{"ast":null,"code":"import React,{useState}from'react';import emailjs from'emailjs-com';import{string,boolean,object,array}from\"yup\";import{useFormik}from\"formik\";import\"./formik.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BirthdayInvitationForm=()=>{const[alertMessage,setAlertMessage]=useState('');const alcoholOptions=[\"Пиво\",\"Шампанское\",\"Белое вино\",\"Красное вино\",\"Водка\",\"Виски\",\"Коньяк\",\"Ликер\",\"Не пью алкоголь\"];const birthdaySchema=object({name:string().min(2,'Имя должно содержать минимум 2 символа').required('Это поле обязательно'),attending:boolean().required('Вы должны указать, придете ли вы'),drinks:array().min(1,'Выберите хотя бы один напиток')});const formik=useFormik({initialValues:{name:'',attending:false,drinks:[]},validationSchema:birthdaySchema,onSubmit:(values,_ref)=>{let{resetForm}=_ref;sendEmail(values);resetForm();}});const sendEmail=values=>{const templateParams={name:values.name,attending:values.attending?'Да':'Нет',drinks:values.drinks.join(', ')};emailjs.send('service_qqiw1rh','template_ndcfuje',templateParams,'KCn971jYkZdaYlyjl').then(()=>{setAlertMessage('Приглашение успешно отправлено!');}).catch(()=>{setAlertMessage('Произошла ошибка при отправке');});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_h1\",children:\"\\u0412\\u0410\\u0428\\u0418 \\u0418\\u041C\\u042F \\u0418 \\u0424\\u0410\\u041C\\u0418\\u041B\\u0418\\u042F\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",className:\"form__input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.name}),formik.errors.name&&formik.touched.name&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.errors.name}),/*#__PURE__*/_jsx(\"p\",{className:\"form__question\",children:\"\\u0421\\u041C\\u041E\\u0416\\u0415\\u0422\\u0415 \\u041B\\u0418 \\u0412\\u042B \\u041F\\u0420\\u0418\\u0421\\u0423\\u0422\\u0421\\u0422\\u0412\\u041E\\u0412\\u0410\\u0422\\u042C \\u041D\\u0410 \\u041C\\u041E\\u0415\\u041C \\u041F\\u0420\\u0410\\u0417\\u0414\\u041D\\u0418\\u041A\\u0415\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox__container\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"attending\",value:\"true\",className:\"custom-checkbox__input\",onChange:()=>formik.setFieldValue('attending',true)}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-checkbox__circle\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u0430\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"attending\",value:\"false\",className:\"custom-checkbox__input\",onChange:()=>formik.setFieldValue('attending',false)}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-checkbox__circle\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u041D\\u0435\\u0442\"})]})]}),formik.errors.attending&&formik.touched.attending&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.errors.attending}),/*#__PURE__*/_jsx(\"p\",{className:\"form__alchogol\",children:\"\\u041A\\u0410\\u041A\\u041E\\u0419 \\u0410\\u041B\\u041A\\u041E\\u0413\\u041E\\u041B\\u042C \\u0412\\u042B \\u041F\\u0420\\u0415\\u0414\\u041F\\u041E\\u0427\\u0418\\u0422\\u0410\\u0415\\u0422\\u0415?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form__alchogol_container\",children:alcoholOptions.map(drink=>/*#__PURE__*/_jsxs(\"label\",{className:\"custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"drinks\",value:drink,className:\"custom-checkbox__input\",onChange:formik.handleChange,checked:formik.values.drinks.includes(drink)}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-checkbox__circle\"}),/*#__PURE__*/_jsx(\"span\",{children:drink})]},drink))}),formik.errors.drinks&&formik.touched.drinks&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.errors.drinks}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__button\",children:\"\\u041E\\u0422\\u041F\\u0420\\u0410\\u0412\\u0418\\u0422\\u042C\"}),alertMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:alertMessage})]});};export default BirthdayInvitationForm;","map":{"version":3,"names":["React","useState","emailjs","string","boolean","object","array","useFormik","jsx","_jsx","jsxs","_jsxs","BirthdayInvitationForm","alertMessage","setAlertMessage","alcoholOptions","birthdaySchema","name","min","required","attending","drinks","formik","initialValues","validationSchema","onSubmit","values","_ref","resetForm","sendEmail","templateParams","join","send","then","catch","handleSubmit","className","children","type","placeholder","onChange","handleChange","onBlur","handleBlur","value","errors","touched","setFieldValue","map","drink","checked","includes"],"sources":["/Users/artursaahov/Desktop/DrInvation/src/Formik/BirthdayInvitation.js"],"sourcesContent":["import React, { useState } from 'react';\nimport emailjs from 'emailjs-com';\nimport { string, boolean, object, array } from \"yup\";\nimport { useFormik } from \"formik\";\nimport \"./formik.css\";\n\nconst BirthdayInvitationForm = () => {\n  const [alertMessage, setAlertMessage] = useState('');\n\n  const alcoholOptions = [\n    \"Пиво\", \"Шампанское\", \"Белое вино\", \"Красное вино\",\n    \"Водка\", \"Виски\", \"Коньяк\", \"Ликер\", \"Не пью алкоголь\"\n  ];\n\n  const birthdaySchema = object({\n    name: string()\n      .min(2, 'Имя должно содержать минимум 2 символа')\n      .required('Это поле обязательно'),\n    attending: boolean().required('Вы должны указать, придете ли вы'),\n    drinks: array().min(1, 'Выберите хотя бы один напиток'),\n  });\n\n  const formik = useFormik({\n    initialValues: { name: '', attending: false, drinks: [] },\n    validationSchema: birthdaySchema,\n    onSubmit: (values, { resetForm }) => {\n      sendEmail(values);\n      resetForm();\n    }\n  });\n\n  const sendEmail = (values) => {\n    const templateParams = {\n      name: values.name,\n      attending: values.attending ? 'Да' : 'Нет',\n      drinks: values.drinks.join(', '),\n    };\n\n    emailjs.send('service_qqiw1rh', 'template_ndcfuje', templateParams, 'KCn971jYkZdaYlyjl')\n      .then(() => {\n        setAlertMessage('Приглашение успешно отправлено!');\n      })\n      .catch(() => {\n        setAlertMessage('Произошла ошибка при отправке');\n      });\n  };\n\n  return (\n    <form onSubmit={formik.handleSubmit} className='form'>\n      <label className='form_h1'>ВАШИ ИМЯ И ФАМИЛИЯ</label>\n      <input\n        name=\"name\"\n        type=\"text\"\n        className='form__input'\n        placeholder=\"Введите ваше имя\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.name}\n      />\n      {formik.errors.name && formik.touched.name && (\n        <div className=\"error\">{formik.errors.name}</div>\n      )}\n\n      <p className='form__question'>СМОЖЕТЕ ЛИ ВЫ ПРИСУТСТВОВАТЬ НА МОЕМ ПРАЗДНИКЕ</p>\n      <div className='checkbox__container'>\n        <label className=\"custom-checkbox\">\n          <input\n            type=\"radio\"\n            name=\"attending\"\n            value=\"true\"\n            className=\"custom-checkbox__input\"\n            onChange={() => formik.setFieldValue('attending', true)}\n          />\n          <span className=\"custom-checkbox__circle\"></span>\n          <span>Да</span>\n        </label>\n        <label className=\"custom-checkbox\">\n          <input\n            type=\"radio\"\n            name=\"attending\"\n            value=\"false\"\n            className=\"custom-checkbox__input\"\n            onChange={() => formik.setFieldValue('attending', false)}\n          />\n          <span className=\"custom-checkbox__circle\"></span>\n          <span>Нет</span>\n        </label>\n      </div>\n      {formik.errors.attending && formik.touched.attending && (\n        <div className=\"error\">{formik.errors.attending}</div>\n      )}\n\n      <p className='form__alchogol'>КАКОЙ АЛКОГОЛЬ ВЫ ПРЕДПОЧИТАЕТЕ?</p>\n      <div className='form__alchogol_container'>\n        {alcoholOptions.map((drink) => (\n          <label key={drink} className=\"custom-checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"drinks\"\n              value={drink}\n              className=\"custom-checkbox__input\"\n              onChange={formik.handleChange}\n              checked={formik.values.drinks.includes(drink)}\n            />\n            <span className=\"custom-checkbox__circle\"></span>\n            <span>{drink}</span>\n          </label>\n        ))}\n      </div>\n      {formik.errors.drinks && formik.touched.drinks && (\n        <div className=\"error\">{formik.errors.drinks}</div>\n      )}\n\n      <button type=\"submit\" className='form__button'>ОТПРАВИТЬ</button>\n\n      {alertMessage && <div className=\"alert\">{alertMessage}</div>}\n    </form>\n  );\n};\n\nexport default BirthdayInvitationForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}